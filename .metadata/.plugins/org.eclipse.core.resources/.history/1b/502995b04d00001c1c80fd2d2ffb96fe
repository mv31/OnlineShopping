package com.app;

import java.util.Scanner;


import org.apache.log4j.Logger;

import com.app.customer.service.CustomerService;
import com.app.exception.BusinessException;
import com.app.model.Customer;
import com.app.customer.service.impl.CustomerServiceImpl;

public class Main {
	private static Logger log = Logger.getLogger(Main.class);
	

	public static void main(String[] args) {
		Scanner scanner = new Scanner(System.in);
		log.info("               Online Shopping Application..!    ");
		log.info("    **************************************************");
		log.info("1)For customer login");
		log.info("2)For Admin login");
		log.info("\nEnter your choice....");
		
		
		int ch = 0;
		try {
			ch = Integer.parseInt(scanner.nextLine());
		}catch(NumberFormatException e) {
			System.out.println(e);
		}
		if(ch==1) {			
			log.info("              customer login/register     ");
			log.info("        *********************************     ");
			log.info("1)SignIn");
			log.info("2)SignUp");
			log.info("3)Forgot Password");
			log.info("4)Back to main");
			log.info("\nEnter your choice..");
			int n ;
			n = Integer.parseInt(scanner.nextLine());
			switch(n) {
			case 1:
				log.info("Enter your email: ");
				String eMail = scanner.nextLine();
				log.info("Enter your password: ");
				String passWord = scanner.nextLine();
				
				if(eMail.matches("^[a-zA-Z0-9+_.-]+@[a-zA-Z.]+$"))
				{		
					//if(password);
					
				}else {
					log.info("Enter a valid email Address");
				}
				
				
				break;
			case 2:	
//				log.info("Last Name: ");
//				String lastNAme = scanner.nextLine();
				int result = 400;
				Customer customer = new Customer();
				log.info("Email: " ); 
				String newEmail = scanner.nextLine();
				log.info("Password");
				String newPassword = scanner.nextLine();
				log.info("ReEnter your Password ");
				String rePassword = scanner.nextLine();
				log.info("Name: ");
				String newName = scanner.nextLine();
				log.info("Phone Number: ");
				long newPhnumber = scanner.nextLong();	
				CustomerService customerService = new CustomerServiceImpl();
					if(newPassword.equals(rePassword)) {
						customer.setNewEmail(newEmail);
						customer.setNewName(newName);
						customer.setNewPhnumber(newPhnumber);
						customer.setRePassword(rePassword);
						try {
							result = customerService.validateCustomerSignup(customer);
						} catch (BusinessException e) {
							// TODO Auto-generated catch block
							log.warn("Invalid email or password");
						}
						
						
						
					}else {
						log.info("Password mismatched...");
					}
					
				//}else {
//					log.info("Enter a valid email Address");
//				}
				
				
				
				
		
					
				break;
			case 3:
				break;
			case 4:
				break;
				
			default:
				log.warn("Invalid choice..Enter number!");
			}
		}
		
		}
			
			
		
//		

	}


